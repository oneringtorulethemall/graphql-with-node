
type User {
  id: ID! @id @unique
  name: String!
  email: String! @unique
  password: String
  posts: [Post!]! @relation(name: "UserPostXREF", onDelete: CASCADE)
  comments: [Comment!]! @relation(name:"UserCommentXREF", onDelete: CASCADE)
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

type Post {
    id:  ID! @id  @unique 
    title:  String!
    body: String!
    published: Boolean!
    author: User! @relation(name: "UserPostXREF", onDelete: SET_NULL)
    comments: [Comment!]! @relation(name: "CommentToPostXREF", onDelete: CASCADE)
    createdAt: DateTime! @createdAt
    updatedAt: DateTime! @updatedAt
}

type Comment {
   id: ID! @id @unique
   text: String!
   author: User! @relation(name: "UserCommentXREF", onDelete: SET_NULL)
   post: Post! @relation(name: "CommentToPostXREF", onDelete: SET_NULL)
   createdAt: DateTime! @createdAt
   updatedAt: DateTime! @updatedAt

}
